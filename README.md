# Random-notes
随记笔记



关于volatile关键字：
众所周知volatile 的加入保证了某个变量在内存中的“可见性”与不可“重排序”；
在单核CPU中不存在重排序的情况，重排序是由于多核CPU在并行执行时所造成的。数据执行时会刷到多个核显中，A Cpu执行时当变量在内存行中找不到时会请求请所在数据的其它CPU响应数据。A CPU在未等待到响应时，继续执行，这时就造成了指令运行时的所谓“重排序”；
为解决这个问题，抽象的引入了"内存屏障"，锁机制，其作用是：
1.强制cpu将store buffer中的内容写入到cacheline中
2.强制cpu将invalidate queue中的请求处理完毕
关于这部分内容参考：http://www.importnew.com/29860.html
volatile在保证可见性与顺序性的同时并不能保证"原子性"
参考有关CAS指令的介绍；多线程中尽量使用jdk下的原子类包数据类型；
